# :kivy 1.10.0

#:import SlideTransition kivy.uix.screenmanager.SlideTransition
#:import RecycleView kivy.uix.recycleview
#:import QRCodeWidget kivy_garden.qrcode
# import ZbarQrcodeDetector android-zbar-qrcode.main
#:import ak asynckivy
#:import asyncio asyncio
#:import MDDropdownMenu kivymd.uix.menu.MDDropdownMenu
#:import MDNavigationLayout kivymd.uix.navigationdrawer.navigationdrawer.MDNavigationLayout

# QR SCANNER
# : import ZBarCam kivy_garden.zbarcam.ZBarCam


<Tab>
    MDLabel:
        text: root.content_text
        pos_hint: {"center_x": .5, "center_y": .5}

<UTXOListItem>:
    on_release: self.open_utxo_menu()

<TxInputListItem>:
    on_release: print("TxInputListItem")



<BalanceListItem>:
    on_release: self.on_release()
    IconLeftConfirmationWidget:
        icon: self.parent.parent.icon

#<ScanScreen>:
#	BoxLayout:
#		orientation: 'vertical'
#		ScanAnalyze:
#			id:preview
#			aspect_ratio: '16:9'
#			extracted_data:root.got_result
#
#		MDLabel:
#			size_hint_y: None
#			height:'130dp'
#			id:ti


<PassphraseControlField>:
    size_hint_y: None
    height: pass_field.height
    text: pass_field.text
    MDTextField:
        id: pass_field
        text: root.text
        color_mode: "accent"
        password: True
        id: pass_field
        hint_text: "Passphrase"
        write_tab: False
        required: True
        font_size: '21sp'
        on_text: app.check_entropy()
    MDIconButton:
        icon: "eye-off"
        theme_icon_color: "Custom"
        icon_color: "#cccccc"
        pos_hint: {"center_y": .5}
        pos: pass_field.width - self.width + dp(8), 0
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            pass_field.password = False if pass_field.password is True else True

MDScreen:
    md_bg_color : 1, 1, 1, 1

#    Preview:
#        id: preview
#        aspect_ratio: '16:9'
#        md_bg_color : 1, 1, 1, 1

    BoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            id: toolbar
            title: "Brainbow"
            pos_hint: {"top": 1}
            md_bg_color: "#252525"
            #anchor_title: "center"
            #icon: "fingerprint"
            #left_action_items: [["menu", lambda x: app.menu_button_handler(self)]]
            # left_action_items: [['menu', lambda x: root.ids.nav_drawer.set_state("open")]]
            left_action_items: [["menu", lambda x: app.nav_drawer_handler()]]
        Widget:
    MDNavigationLayout:
        x: toolbar.height
        size_hint_y: 1.0 - toolbar.height/root.height
        MDScreenManager:
            id: sm
            transition: SlideTransition(direction="right", duration=0.01)
            WelcomeScreen:
                MDFloatLayout:
                    md_bg_color : 1, 1, 1, 1
                Carousel:
                    #name: "caraousel"
                    id: caraousel
                    use_pagination: True
                    on_current_slide: app.current_slide(self.index)
                    MDFloatLayout:
                        FitImage:
                            source: "assets/onboarding_00.png"
                            pos_hint: {"center_x": .5, "center_y": .7}
                            size_hint: .42, .42
                        MDLabel:
                            text: "[b]Welcome to Brainbow[/b]"
                            markup: True
                            pos_hint: {"center_y": .485}
                            halign: "center"
                            font_size: "25sp"
                            color: rgba(1, 3, 23, 225)
                        MDLabel:
                            margin: "8dp"
                            pos_hint: {"center_y": .31}
                            opacity: 0.95
                            halign: 'center'
                            font_size: '16sp'
                            text: "Brainbow is a stateless, non-custodial,\ndeterministic Bitcoin wallet.\n\nStateless means, that Brainbow does\nnot save or store your private key\nor wallet information anywhere.\n\nConnect to Bitcoin by generating your wallet\nusing a salt and a really good passphrase."


                        MDTextButton:
                            text: "SKIP AND CONNECT TO BITCOIN"
                            font_size: '18sp'
                            text_color: "black"
                            pos_hint: {"center_x": .5, "center_y": .115}
                            halign: "center"
                            color: "#c9c9c9"
                            on_release: app.goto_slide('login')
                        MDLabel:
                            text: "– of –"
                            pos_hint: {"center_y": .055}
                            halign: "center"
                            font_size: "14sp"
                            color: "#c9c9c9"


                    MDFloatLayout:
                        Image:
                            source: "assets/onboarding_10.png"
                            pos_hint: {"center_x": .5, "center_y": .7}
                            size_hint: .66, .66
                            #size_hint: .42, .42
                        MDLabel:
                            text: "[b]Access your wallet[/b]"
                            markup: True
                            #pos_hint: {"center_y": .58}
                            pos_hint: {"center_y": .485}
                            halign: "center"
                            font_size: "25sp"
                            color: rgba(1, 3, 23, 225)
                        MDLabel:
                            margin: "8dp"
                            pos_hint: {"center_y": .34}
                            opacity: 0.95
                            halign: 'center'
                            font_size: '16sp'
                            text: "To access a wallet, it requires credentials.\n\nOne part of the credentials is a salt and the\nother part is a really good passphrase."
                        MDTextButton:
                            text: "SKIP AND CONNECT TO BITCOIN"
                            font_size: '18sp'
                            text_color: "black"
                            pos_hint: {"center_x": .5, "center_y": .136}
                            halign: "center"
                            color: "#c9c9c9"
                            on_release: app.goto_slide('login')
                        MDLabel:
                            text: "– of –"
                            pos_hint: {"center_y": .055}
                            halign: "center"
                            font_size: "14sp"
                            color: "#c9c9c9"


                    MDFloatLayout:
                        Image:
                            source: "assets/onboarding_20.png"
                            pos_hint: {"center_x": .5, "center_y": .7}
                            size_hint: .66, .66
                            #size_hint: .42, .42
                        MDLabel:
                            text: "[b]Protect your wallet[/b]"
                            markup: True
                            #pos_hint: {"center_y": .58}
                            pos_hint: {"center_y": .485}
                            halign: "center"
                            font_size: "25sp"
                            color: rgba(1, 3, 23, 225)
                        MDLabel:
                            margin: "8dp"
                            pos_hint: {"center_y": .34}
                            opacity: 0.95
                            halign: 'center'
                            font_size: '16sp'
                            text: "Everybody who knows the credentials has\naccess to the wallet and can spend your funds."
                        MDTextButton:
                            text: "SKIP AND CONNECT TO BITCOIN"
                            font_size: '18sp'
                            text_color: "black"
                            pos_hint: {"center_x": .5, "center_y": .136}
                            halign: "center"
                            color: "#c9c9c9"
                            on_release: app.goto_slide('login')
                        MDLabel:
                            text: "– of –"
                            pos_hint: {"center_y": .055}
                            halign: "center"
                            font_size: "14sp"
                            color: "#c9c9c9"

                    MDFloatLayout:
                        Image:
                            source: "assets/what-salt-is.png"
                            pos_hint: {"center_x": .5, "center_y": .7}
                            size_hint: .66, .66


                            #size_hint: .42, .42
                        MDLabel:
                            text: "[b]What salt is[/b]"
                            markup: True
                            pos_hint: {"center_y": .485}
                            halign: "center"
                            font_size: "25sp"
                            color: rgba(1, 3, 23, 225)
                        MDLabel:
                            margin: "8dp"
                            pos_hint: {"center_y": .34}
                            opacity: 0.95
                            halign: 'center'
                            font_size: '16sp'
                            #text: "Accessing a wallet requires a salt and a passphrase.\n\n
                            # As passphrase you can choose many random words\nor a sentence. Never use it for anything else.
                            text: "As salt can be names, email addresses, nick-\nnames, identifiers, … ideally with an extension.\n\nExamples: satoshin@gmx.com, run-away-hal,\nHoneyBadger21, Xavier Fiechter, gutenberg, …"
                        MDTextButton:
                            text: "SKIP AND CONNECT TO BITCOIN"
                            font_size: '18sp'
                            text_color: "black"
                            pos_hint: {"center_x": .5, "center_y": .136}
                            halign: "center"
                            color: "#c9c9c9"
                            on_release: app.goto_slide('login')
                        MDLabel:
                            text: "– of –"
                            pos_hint: {"center_y": .055}
                            halign: "center"
                            font_size: "14sp"
                            color: "#c9c9c9"

                    MDFloatLayout:
                        Image:
                            source: "assets/strong_passphrase.png"
                            pos_hint: {"center_x": .5, "center_y": .7}
                            size_hint: .66, .66
                            #size_hint: .42, .42
                        MDLabel:
                            text: "[b]What a passphrase is[/b]"
                            markup: True
                            #pos_hint: {"center_y": .58}
                            pos_hint: {"center_y": .485}
                            halign: "center"
                            font_size: "25sp"
                            color: rgba(1, 3, 23, 225)
                        MDLabel:
                            margin: "8dp"
                            pos_hint: {"center_y": .34}
                            opacity: 0.95
                            halign: 'center'
                            font_size: '16sp'
                            text: "As passphrase you can choose many\nrandom words or a sentence.\n\nNever use it for anything else.\n\nExamples: correct horse battery staple, …"
                        MDTextButton:
                            text: "SKIP AND CONNECT TO BITCOIN"
                            font_size: '18sp'
                            text_color: "black"
                            pos_hint: {"center_x": .5, "center_y": .136}
                            halign: "center"
                            color: "#c9c9c9"
                            on_release: app.goto_slide('login')
                        MDLabel:
                            text: "– of –"
                            pos_hint: {"center_y": .055}
                            halign: "center"
                            font_size: "14sp"
                            color: "#c9c9c9"

                    MDFloatLayout:
                        Image:
                            source: "assets/onboarding_unlimited_wallets.png"
                            pos_hint: {"center_x": .5, "center_y": .7}
                            size_hint: .66, .66
                            #size_hint: .42, .42
                        MDLabel:
                            text: "[b]Unlimited wallets[/b]"
                            markup: True
                            #pos_hint: {"center_y": .58}
                            pos_hint: {"center_y": .485}
                            halign: "center"
                            font_size: "25sp"
                            color: rgba(1, 3, 23, 225)
                        MDLabel:
                            margin: "8dp"
                            pos_hint: {"center_y": .34}
                            opacity: 0.95
                            halign: 'center'
                            font_size: '16sp'
                            text: "Unlimited wallets can be accessed.\n\nAny combination of salt and a passphrase\nwill result in a new, independent wallet."
                        MDTextButton:
                            text: "SKIP AND CONNECT TO BITCOIN"
                            font_size: '18sp'
                            text_color: "black"
                            pos_hint: {"center_x": .5, "center_y": .136}
                            halign: "center"
                            color: "#c9c9c9"
                            on_release: app.goto_slide('login')
                        MDLabel:
                            text: "– of –"
                            pos_hint: {"center_y": .055}
                            halign: "center"
                            font_size: "14sp"
                            color: "#c9c9c9"


                    MDFloatLayout:
                        name: "login"
                        id: id_login
                        AnchorLayout:
                            BoxLayout:
                                size_hint: 0.8, 0.55
                                spacing: 3
                                orientation: "vertical"
                                MDTextField:
                                    id: email_field
                                    hint_text: "Email/Username/Salt"
                                    color_mode: "accent"
                                    write_tab: False
                                    required: True
                                    font_size: '21sp'
                                PassphraseControlField:
                                    id: pass_field
                                MDTextField:
                                    id: confirm_field
                                    hint_text: "Repeat Passphrase"
                                    color_mode: "accent"
                                    write_tab: False
                                    password: True
                                    required: True
                                    font_size: '21sp'
                                    on_text: app.check_entropy()
                                MDLabel:
                                    id: passphrase_hint
                                    text: "WARNING: Use a better passphrase!"
                                    halign: "center"
                                    font_size: "14sp"
                                    color: "#ff0000"
                                MDProgressBar:
                                    id: pass_progress
                                    value: 0
                                    max: 128
                                    size_hint_y:None
                                    height:dp(4)
                                    color: "#ff0000"
                                BoxLayout:
                                    MDCheckbox:
                                        id: bech32_checkbox
                                        size_hint: None, None
                                        size:  dp(33), dp(33)
                                        opacity: 0
                                        active: False
                                        disabled: True #  bech32 implementation seems broken right now. not sure if it ever worked
                                MDRaisedButton:
                                    size_hint_x: 1
                                    text: "Let's get started"
                                    id: login_button
                                    md_bg_color: "#252525"
                                    on_release: app.login()
                                    font_size: '18sp'
                                MDLabel:
                                    size: self.size
                                    opacity: 0.85
                                    halign: 'center'
                                    font_size: '12sp'
                                    text: "\n\n\n\n\n\n\n\n\n\n\nBrainbow is of course offered without any warranty of any kind; if you lose your bitcoin due to a bug in our software, your keystrokes being recorded on a malware-infested device from 2003, a weak passphrase, or even a typo, we are sorry in the most respectful way, but we cannot help you.\n\nJust don't forget your salt and passphrase."



            MainScreen:
                name: "main"
                id: main
                MDTabs
                    tab_display_mode: "icons"
                    on_tab_switch: app.give_current_tab_name(*args)
                    #on_slide_progress: print('hello')
                    background_color: "#4d4d4d"
                #    underline_color: "#f7931a"
                    tab_bar_height:  dp(52)
                    id: main_tabs
                    Tab:
                        name: "balance"
                        title: "TRANSACTIONS"
                        title_icon_mode: "Top"
                        icon: "database-check"
                        BoxLayout:
                            orientation: "vertical"
                            BalanceLabel:
                                id: balance_label
                                font_style: "H4"
                                theme_text_color: "Primary"
                                halign: "center"
                                size_hint_y: None
                                height: self.texture_size[1] + dp(48)
                                on_release: app.toggle_balance_label()
                            RecycleView:
                                id: recycleView
                                viewclass: "BalanceListItem"
                                RecycleBoxLayout:
                                    default_size: None, dp(56)
                                    default_size_hint: 1, None
                                    size_hint_y: None  # redefinition?
                                    height: self.minimum_height
                                    orientation: "vertical"

                    Tab:
                        name: "send"
                        id: send
                        title: "SEND"
                        title_icon_mode: "Top"
                        icon: "database-export"
                        #icon: "database-arrow-right"
                        AnchorLayout:
                            BoxLayout:
                                size_hint: 0.9, 0.75
                                orientation: "vertical"
                                spacing: 9
                                BoxLayout:
                                    size_hint: 1, 0.2
                                    spacing: 5
                                    FloatInput:
                                        id: spend_amount_input
                                        text: app.current_coin
                                        hint_text: app.units
                                        color_mode: "accent"
                                        write_tab: False
                                        on_text: app.update_amounts(self.text, "coin")
                                        on_text: app.set_amount_error(self.text)
                                        on_text_validate: app.set_amount_error(self.text)
                                        on_focus: app.set_amount_error(self.text)
                                    FloatInput:
                                        text: app.current_fiat
                                        hint_text: app.currency
                                        color_mode: "accent"
                                        write_tab: False
                                        on_text: app.update_amounts(self.text, "fiat")
                                MDLabel:
                                    id: send_balance
                                    size_hint: 1, 0.2
                                    theme_text_color: "Primary"
                                    font_style: "H6"
                                BoxLayout:
                                    size_hint: 1, 0.6
                                    spacing: 5
                                    MDTextField:
                                        id: address_input
                                        helper_text: "Enter Address"
                                        helper_text_mode: "persistent"
                                        color_mode: "accent"
                                        write_tab: False
                                        on_text: app.set_address_error(self.text)
                                        on_text_validate: app.set_address_error(self.text)
                                        on_focus: app.set_address_error(self.text)
                                BoxLayout:
                                    size_hint: 1, 0.6
                                    spacing: 25
                                    FloatInput:
                                        id: fee_input
                                        helper_text: "Miner Fee: sat/vbyte"
                                        helper_text_mode: "persistent"
                                        color_mode: "accent"
                                        write_tab: False
                                        disabled: False
                                        #size_hint: None, None
                                        on_text: app.fee_input_handler()
                                        on_focus: if self.focus: app.fee_selection.open()
                                BoxLayout:
                                    size_hint: 1, 0.6
                                    spacing: 5
                                    MDRaisedButton:
                                        id: send_button
                                        #size_hint: 0.5, 1
                                        size_hint_x: 1
                                        text: "Preview Transaction"
                                        font_size: sp(18)
                                        md_bg_color: "#252525"
                                        on_release: asyncio.create_task(app.send_button_handler())

                                # Camera not working right now
                                MDFloatingActionButton:
                                    icon: "qrcode-scan"
                                    opposite_colors: True
                                    elevation_normal: 8
                                    pos_hint: {"center_x": 0.5, "center_y": 0.2}
                                    id: camera_button
                                    on_release: app.start_zbar()



                                MDFloatingActionButton:
                                    md_bg_color: "#252525"
                                    icon: "credit-card-scan-outline"
                                    opposite_colors: True
                                    pos_hint: {"center_x": 0.5, "center_y": 0.2}
                                    id: nfc_button
                                    on_release: app.start_nfc_tap()


                    Tab:
                        name: "receive"
                        title: "RECEIVE"
                        title_icon_mode: "Top"
                        icon: "database-import"
                        AnchorLayout:
                            BoxLayout:
                                size_hint: 0.9, 0.8
                                spacing: 3
                                orientation: "vertical"
                                BoxLayout:
                                    size_hint: 1, 0.2
                                    spacing: 5
                                    FloatInput:
                                        text: app.current_coin
                                        hint_text: app.units
                                        color_mode: "accent"
                                        write_tab: False
                                        on_text: app.update_amounts(self.text, "coin")
                                    FloatInput:
                                        text: app.current_fiat
                                        hint_text: app.currency
                                        color_mode: "accent"
                                        write_tab: False
                                        on_text: app.update_amounts(self.text, "fiat")
                                MDCard:
                                    size_hint: None, None
                                    size: dp(300), dp(320)
                                    pos_hint: {"center_x": 0.5}
                                    BoxLayout:
                                        orientation:"vertical"
                                        padding: dp(10)
                                        spacing: 5
                                        on_touch_down: app.copy_current_address_to_clipboard()
                                        MDLabel:
                                            id: addr_label
                                            text_color: "#000000"
                                            font_style:"Body2"
                                            size_hint_y: None
                                            height: dp(40)
                                        QRCodeWidget:
                                            id: addr_qrcode
                                            show_border: False

                    Tab:
                        name: "addresses"
                        id: addresses
                        icon: "map-marker-multiple"
                        title: "ADDRESSES"
                        title_icon_mode: "Top"
                        tab_padding: [10, 0, 0,0]
                        BoxLayout:
                            orientation: "vertical"
                            RecycleView:
                                id: addresses_recycle_view
                                viewclass: "TwoLineListItem" #TwoLineIconListItem
                                RecycleBoxLayout:
                                    default_size: None, None
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                                    orientation: "vertical"
                    Tab:
                        name: "utxos"
                        icon: "database-marker"
                        title: "UTXOs (Coins)"
                        title_icon_mode: "Top"
                        tab_padding: [10, 0, 0,0]
                        BoxLayout:
                            orientation: "vertical"
                            RecycleView:
                                id: utxoRecycleView
                                viewclass: "UTXOListItem"
                                RecycleBoxLayout:
                                    default_size: None, None
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                                    orientation: "vertical"

            WaitScreen:
                name: "wait"
                AnchorLayout:
                    MDSpinner:
                        size_hint: None, None
                        size: dp(248), dp(248)
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        palette:
                            [0, 0, 0, 1],
                        line_width: dp(1.25)
                MDLabel:
                    id: wait_text
                    text: "Loading..."
                    theme_text_color: "Primary"
                    font_style: "H4"
                    size_hint: 0.7, None
                    halign: "center"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

                MDLabel:
                    id: wait_text_small
                    size: self.size
                    font_size: '11sp'
                    text: "-"
                    theme_text_color: "Primary"
                    size_hint: 0.7, None
                    halign: "center"
                    pos_hint: {"center_x": 0.5, "center_y": 0.95}




            ExchangeRateScreen:
                name: "exchangerate"
                MDFloatLayout:
                    BoxLayout:
                        size_hint: 1, 1
                        orientation:"vertical"
                        MDLabel:
                            text: "[b]Live exchange rates, BTC/USD[/b]"
                            markup: True
                            pos_hint: {"center_y": .485}
                            halign: "center"
                            font_size: "25sp"
                            color: rgba(1, 3, 23, 225)
                        MDSwitch:
                            size_hint: None, None
                            size: "48dp", "48dp"
                            pos_hint: {'center_x': .5, 'center_y': .5}
                            on_active: app.on_exchange_rate_switch_active(*args)
                        MDLabel:
                            id: current_btc_exchange_rate
                            halign: "center"
                            text: "1 BTC = 1 BTC"
                            pos_hint: {'center_x': .5, 'center_y': .6}
                        MDLabel:
                            halign: "center"
#                            text: "By activating 'Live exchange rates', Brainbow\nwill get the exchange rates from different\nservices and calculate rate within the app."
                            text: "By enabling 'Live exchange rates', Brainbow\nretrieves the exchange rates from various\nservices and calculates an average rate."
                            pos_hint: {'center_x': .5, 'center_y': .65}





            YPUBScreen:
                name: "ypub"
                MDCard:
                    size_hint: None, None
                    size: dp(320), dp(360)
                    pos_hint: {"center_x": 0.5, "center_y": 0.55}
                    BoxLayout:
                        orientation:"vertical"
                        padding: dp(10)
                        spacing: 5
                        MDLabel:
                            id: ypub_label
                            theme_text_color: "ContrastParentBackground"
                            font_style: "Body2"
                            size_hint_y: None
                            height: dp(70)
                        QRCodeWidget:
                            id: ypub_qrcode
                            show_border: False







            SeedScreen:
                name: "seed"
                transition: SlideTransition(direction="right", duration=0.01)
                MDCard:
                    size_hint: None, None
                    size: dp(320), dp(360)
                    pos_hint: {"center_x": 0.5, "center_y": 0.55}
                    BoxLayout:
                        orientation:"vertical"
                        padding: dp(10)
                        spacing: 5
                        MDLabel:
                            id: seed_label
                            theme_text_color: "ContrastParentBackground"
                            font_style:"Body2"
                            size_hint_y: None
                            height: dp(70)
                        QRCodeWidget:
                            id: seed_qrcode
                            show_border: False




    MDNavigationLayout:
        MDNavigationDrawer:
            id: nav_drawer
            #type: "standard"
            anchor: "left"
            padding: 16, 22, 12, 16
            #radius: (0, 16, 16, 0) if self.anchor == "left" else (16, 0, 0, 16)
            radius: (0, 0, 0, 0)
            md_bg_color: "#ffffff"
            MDNavigationDrawerMenu:
                MDNavigationDrawerHeader:
                    title: "Brainbow"
                    text: "(no active wallet)"
                    text_color: "#c9c9c9"
                    id: active_wallet_alias
                    #source: "brain_nav.png"

                    #spacing: "4dp"
                    padding: "12dp", 0, 0, "56dp"

                #MDNavigationDrawerLabel:
                #    text: "Wallet"

                MDNavigationDrawerItem:
                    icon: "database-import"
                    text: "Recieve"
                    on_release: app.goto_screen('main', 'RECEIVE')

                MDNavigationDrawerItem:
                    icon: "database-export"
                    text: "Send"
                    on_release: app.goto_screen('main', 'SEND')

                MDNavigationDrawerItem:
                    icon: "database-check"
                    right_text: ""
                    text_right_color: "#4a4939"
                    text: "Transactions"
                    #text_color: "#c9c9c9"
                    #selected_color: "#c9c9c9"
                    id: nav_drawer_item_transactions
                    on_release: app.goto_screen('main', 'TRANSACTIONS')



                MDNavigationDrawerDivider:

                #MDNavigationDrawerItem:
                #    icon: "cellphone-nfc"
                #    text: "Test Bottom Sheed"
                #    on_release: app.open_sheet()



                MDNavigationDrawerItem:
                    icon: "map-marker-multiple"
                    text: "Addresses"
                    on_release: app.goto_screen('main', 'ADDRESSES')

                MDNavigationDrawerItem:
                    icon: "database-marker"
                    text: "UTXOs (Coins)"
                    on_release: app.goto_screen('main', "UTXOs (Coins)")

                    # on_release: app.nfc_toggle()

                #MDNavigationDrawerLabel:
                #    text: "Labels"
                #    spacing: "16dp"



                MDNavigationDrawerDivider:

                MDNavigationDrawerLabel:
                    text: "Current Session and State"

                #MDNavigationDrawerLabel:
                #    text: "Help and Feedback"
                #MDNavigationDrawerItem:
                #    icon: "twitter"
                #    text: "Twitter @bitcoinbrainbow"

                #MDNavigationDrawerLabel:
                #    text: "Version: 0.0.1.testnet"
                #    text_color: "#c9c9c9"

                #MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: "cellphone-nfc"
                    text: "NFC On/Off"
                    on_release: app.nfc_toggle()

                #MDNavigationDrawerItem:
                #    icon: "database-cog"
                #    text: "Settings"

                MDNavigationDrawerItem:
                    icon: "cash-100"
                    text: "Exchange Rates On/Off"
                    on_release: app.load_exchangerate_view()

                MDNavigationDrawerDivider:


                MDNavigationDrawerLabel:
                    text: "Wallet Information and Export"

                MDNavigationDrawerItem:
                    icon: "database-arrow-down-outline"
                    text: "Extended Public Key"
                    on_release: app.load_pubkey_view()

                MDNavigationDrawerItem:
                    icon: "database-arrow-down"
                    text: "Wallet Import Format"
                    on_release: app.load_seed_view()

                MDNavigationDrawerItem:
                    icon: "database-off"
                    text: "Disconnet Wallet and Exit"
                    on_release: app.logoff()
